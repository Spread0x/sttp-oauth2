(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[112],{1663:function(e,t,i){"use strict";i.r(t),i.d(t,{frontMatter:function(){return a},metadata:function(){return s},toc:function(){return d},default:function(){return p}});var n=i(2122),r=i(9756),o=(i(7294),i(3905)),a={sidebar_position:6,description:"Migrations"},s={unversionedId:"migrating",id:"migrating",isDocsHomePage:!1,title:"Migrating to newer versions",description:"Migrations",source:"@site/../mdoc/target/mdoc/migrating.md",sourceDirName:".",slug:"/migrating",permalink:"/sttp-oauth2/docs/migrating",editUrl:"https://github.com/ocadotechnology/sttp-oauth2/edit/main/docs/migrating.md",version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6,description:"Migrations"},sidebar:"tutorialSidebar",previous:{title:"Contributing to sttp-oauth2",permalink:"/sttp-oauth2/docs/contributing"}},d=[{value:"unreleased",id:"unreleased",children:[{value:"Split <code>ClientCredentialsProvider</code>",id:"split-clientcredentialsprovider",children:[]}]},{value:"v0.10.0",id:"v0100",children:[]},{value:"v0.5.0",id:"v050",children:[]}],l={toc:d};function p(e){var t=e.components,i=(0,r.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,n.Z)({},l,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Some releases introduce breaking changes. This page aims to list those and provide migration guide."),(0,o.kt)("h2",{id:"unreleased"},(0,o.kt)("a",{parentName:"h2",href:"https://github.com/ocadotechnology/sttp-oauth2/releases/tag/v0.12.0"},"unreleased")),(0,o.kt)("h3",{id:"split-clientcredentialsprovider"},"Split ",(0,o.kt)("inlineCode",{parentName:"h3"},"ClientCredentialsProvider")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"ClientCredentialsProvider")," has been split into ",(0,o.kt)("inlineCode",{parentName:"p"},"AccessTokenProvider")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"TokenIntrospection"),". This allows using better scoped traits without a need to provide redundant token introspection url if there is only need for requesting access tokens. "),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"ClientCredentialsProvider")," has been left as a sum of both traits for smoother migration, so in most cases no changes would be required during the migration."),(0,o.kt)("h2",{id:"v0100"},(0,o.kt)("a",{parentName:"h2",href:"https://github.com/ocadotechnology/sttp-oauth2/releases/tag/v0.5.0"},"v0.10.0")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"authCodeToToken")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"refreshAccessToken")," no longer return fixed token response type. Instead, they require ",(0,o.kt)("inlineCode",{parentName:"p"},"RT <: OAuth2TokenResponse.Basic: Decoder")," type parameter, that describes desired. response structure."),(0,o.kt)("p",null,"There are two matching pre-defined types provided:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"OAuth2TokenResponse")," - minimal response as described by ",(0,o.kt)("a",{parentName:"li",href:"https://datatracker.ietf.org/doc/html/rfc6749#section-5.1"},"rfc6749")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ExtendedOAuth2TokenResponse")," - previously known as ",(0,o.kt)("inlineCode",{parentName:"li"},"Oauth2TokenResponse"),", the previously fixed response type. Use this for backward compatiblity.")),(0,o.kt)("h2",{id:"v050"},(0,o.kt)("a",{parentName:"h2",href:"https://github.com/ocadotechnology/sttp-oauth2/releases/tag/v0.5.0"},"v0.5.0")),(0,o.kt)("p",null,"This version introduces ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/ocadotechnology/sttp-oauth2/pull/39"},"sttp3"),". Please see ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/softwaremill/sttp/releases/tag/v3.0.0"},"sttp v3.0.0 release")," for migration guide."))}p.isMDXComponent=!0}}]);